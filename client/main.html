<template name="GeneralLayout">
  <header>
    {{> yield "header"}}
  </header>
  <body>
    {{> yield}}
  </body>
  <footer class="navbardiv">
    {{> bottomnavbar}}
  </footer>
</template>

<template name="browsebar">
  <div class="topnavbar">
    <a href="/fuuk" class="button" style="float:right;">Create</a>
    {{> topnavbar}}
    {{> searchbar}}
  </div>
</template>

<template name="browsebody">
  <div id = "list-group-append" style="margin-top: 80px;">
    {{#each tuples}}
      <div class = "list-group-item list-group-secondary tuple.title.toLowerCase()">
        <h5 class = "mb-1"> {{title}} </h5>
        <small class = "mb-4"> By:  {{creator}} </small>
        <p class = "mt-2">{{description}}</p>
        <a class = "mt-3 btn btn-outline-info" onclick="location.href='../tupleDescription/' + '{{_id}}'" style = "font-size: 12px;"> More Description </a>
      </div>
    {{/each}}
  </div>
</template>

<template name="topnavbar">
  <div class="topnavbar">
    <h4>KAIST TUPLE</h4>
  </div>
</template>

<template name="searchbar">
  <div class = "input-group" style="padding-top:4px;" >
    <input class = "form-control" type="text" placeholder="Search" id="searchTuple">
    <div class = "input-group-append">
      <button class="btn btn-outline-primary" type="submit" id="searchTupleButton" style="color:#333;border-color:#333;"><i class="fa fa-search"></i></button>
    </div>
  </div>
</template>



<!-- Align properly, add pictures -->
<template name="bottomnavbar">
  <nav class = "navbar navbar-expand sticky-top navbar-dark bg-dark">
    <ul class="navbar-nav" style="width:100%">
      <li class="nav-item active">
        <a class="nav-link" href="/">Tuples</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Chats</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/notification">Notifications</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/profile">My Profile</a>
      </li>
      <!--{{#if currentUser}}
      <li class="nav-item">
        <a class="nav-link logout" href="#">Logout</a>
      </li>
      {{else}}
      <li class="nav-item">
        <a class="nav-link" href="{{pathFor route='register'}}">Register</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{{pathFor route='login'}}">Login</a>
      </li>
      {{/if}}-->
    </ul>
  </nav>
</template>

<template name="profile">
  <div style="margin-top:80px; text-align:center;">
    {{#if currentUser}}
      <a class="button logout" href="/">Logout</a>
    {{else}}
      {{> login}}
    {{/if}}
  </div>
</template>

<template name="topbarwithback">
  <div class="topnavbar">
    {{> topnavbar}}
    <a href="/" class="button" style="float: left">Back</a>
  </div>
</template>

<template name="tupleDescription">
  <div class="text-center">
    <div style="margin-top: 60px">
      <h3>{{tuple_title}}</h3>
    </div>
    <div class="description">
      <h5>{{tuple_description}}</h5>
    </div>
    {{#if currentUser}}
      <button class="btn btn-outline-primary" role = "button" type="submit" style="width:80%;">Join Tuple</button>
    {{/if}}
  </div>

  <div class="comment_box_section">
    {{>testcom}}
  </div>
</template>

<template name="fuuk">
  {{#if currentUser}}
  <div class = "jumbotron jumbotron-fluid">
    <h3 class = "text-center display-4 mb-3" style = "font-size: 30px;padding-top: 30px;">
      Create a Tuple
    </h3>
    <form class = "offset-1 col-10">
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control" id="title" placeholder="CS350: Study Group" required maxlength="30">
        <small id="emailHelp" class="form-text text-muted text-left">Title of the Tuple</small>
      </div>
      <div class="form-group">
        <label for="description">Description</label>
        <textarea type="textarea" class="form-control" id="description" placeholder="Studio Session" rows = "5" required maxlength="500"> </textarea>
        <small id="emailHelp" class="form-text text-muted text-left">Description about the Tuple</small>
      </div>
      <!--
      <div class="form-group">
         <label for="event-hash">Tuple type</label>
         <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="#Study">
            <span class="form-check-label" for="inlineRadio1">#Study</span>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="#Club">
            <span class="form-check-label" for="inlineRadio2">#Club</span>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="#Fun">
            <span class="form-check-label" for="inlineRadio3">#Fun</span>
          </div>
        <small id="emailHelp" class="form-text text-muted text-left">Type of Tuple</small>
      </div>-->
      <button class="btn btn-outline-primary" id = "createTupleButton" role = "button" type = "submit" style="width:100%;">Create Tuple</button>
    </form>
  </div>
  {{else}}
  <div class = "jumbotron jumbotron-fluid">
    <h4 style="text-align:center;">Fill your diesel tank before trying to create tuple</h4>
  </div>
  {{/if}}
  <div class="navbardiv">
    {{> bottomnavbar}}
  </div>
</template>

<template name="notification">
  <div style="margin-top:80px; text-align:center;">
    {{#each notifs}}
      <div>
        <h5 class = "mb-1"> {{title}} </h5>
        <p class = "mt-2">{{description}}</p>
      </div>
    {{/each}}
    <button class="btn btn-outline-primary" role = "button" type="submit" style="width:80%;">Get Notif</button>
  </div>
</template>

<template name="testcom">
  <div style="text-align:center;">
    <h4>Comments</h4>
    {{#each tup_comment}}
      <div class="dialogbox">
        <div class="commentbody">
          <span class="tip tip-left"></span>
          <div class="message">
            {{comment}}
            <br>
            <p style=" position: absolute; right: 5px; font-size: 10px">{{createdAt}} by {{madeBy}}</p>
          </div>
        </div>
      </div>
    {{/each}}
    <form class="add-Comment">
    <textarea rows="3" style="border-width: 1px; border-color: #4c4cff; width: 80%;" placeholder="Your comment... " id="comment_text"></textarea>
    <button class="btn btn-outline-primary" id="addCommentButton" role = "button" type="submit" style="width:80%;">Add Comment</button>
    </form>
  </div>
</template>
